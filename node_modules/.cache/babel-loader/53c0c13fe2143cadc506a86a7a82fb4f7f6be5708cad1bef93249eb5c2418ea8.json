{"ast":null,"code":"import { configureStore } from '@reduxjs/toolkit';\nimport authReducer from './authSlice';\nconst persistToLocalStorage = store => next => action => {\n  const result = next(action);\n  const {\n    auth\n  } = store.getState();\n  if (auth !== null && auth !== void 0 && auth.token) {\n    localStorage.setItem('token', auth.token);\n    localStorage.setItem('user', JSON.stringify(auth.user || null));\n  } else {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  }\n  return result;\n};\nexport const store = configureStore({\n  reducer: {\n    auth: authReducer\n  },\n  middleware: getDefault => getDefault().concat(persistToLocalStorage)\n});","map":{"version":3,"names":["configureStore","authReducer","persistToLocalStorage","store","next","action","result","auth","getState","token","localStorage","setItem","JSON","stringify","user","removeItem","reducer","middleware","getDefault","concat"],"sources":["C:/Users/ACER/Desktop/Patiend_portal_fronend/Patient_portal_frontend/src/store/index.js"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\r\nimport authReducer from './authSlice';\r\n\r\nconst persistToLocalStorage = store => next => action => {\r\n  const result = next(action);\r\n  const { auth } = store.getState();\r\n\r\n  if (auth?.token) {\r\n    localStorage.setItem('token', auth.token);\r\n    localStorage.setItem('user', JSON.stringify(auth.user || null));\r\n  } else {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: { auth: authReducer },\r\n  middleware: (getDefault) => getDefault().concat(persistToLocalStorage),\r\n});\r\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,kBAAkB;AACjD,OAAOC,WAAW,MAAM,aAAa;AAErC,MAAMC,qBAAqB,GAAGC,KAAK,IAAIC,IAAI,IAAIC,MAAM,IAAI;EACvD,MAAMC,MAAM,GAAGF,IAAI,CAACC,MAAM,CAAC;EAC3B,MAAM;IAAEE;EAAK,CAAC,GAAGJ,KAAK,CAACK,QAAQ,CAAC,CAAC;EAEjC,IAAID,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEE,KAAK,EAAE;IACfC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,IAAI,CAACE,KAAK,CAAC;IACzCC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACN,IAAI,CAACO,IAAI,IAAI,IAAI,CAAC,CAAC;EACjE,CAAC,MAAM;IACLJ,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC;IAChCL,YAAY,CAACK,UAAU,CAAC,MAAM,CAAC;EACjC;EACA,OAAOT,MAAM;AACf,CAAC;AAED,OAAO,MAAMH,KAAK,GAAGH,cAAc,CAAC;EAClCgB,OAAO,EAAE;IAAET,IAAI,EAAEN;EAAY,CAAC;EAC9BgB,UAAU,EAAGC,UAAU,IAAKA,UAAU,CAAC,CAAC,CAACC,MAAM,CAACjB,qBAAqB;AACvE,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}